<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>03.Count Substring</title>
    <link href="styles/js-console.css" rel="stylesheet" />
    <link href="styles/style.css" rel="stylesheet" />
</head>
<body>
    <header>
        <nav>
            <a href="01-ReverseString.html">01.Reverse string</a> | 
            <a href="02-Brackets.html">02.Brackets</a> | 
            <a href="03-CountSubstring.html" class="current">03.Count Substring</a> | 
            <a href="04-HTMLtags.html">04.HTML Tags</a> |
            <a href="05-ReplaceSpaces.html">05.Replace Spaces</a> |
            <a href="06-Grouping.html">06.Grouping</a> |
            <a href="07-URLparser.html">07.URL Parser</a> |
            <a href="08-HrefToURL.html">08.Href to Url</a> |
            <a href="09-ExtractEmail.html">09.Extract email</a> |
            <a href="10-Palindrome.html">10.Palidrome</a> |
            <a href="11-StringFormat.html">11.String format</a> |
            <a href="12-Templates.html">12.Template</a>
        </nav>
    </header>
    <p>
        Write a JavaScript function that finds how many times a substring is contained in a given text (perform case insensitive search).
        <br />
    </p>
    <table>
        <tr>
            <td>
                <label for="tb-text">Text:</label>
            </td>
            <td>
                <textarea id="tb-text" style="width: 400px; height:75px;">We are living in an yellow submarine. We don't have anything else. Inside the submarine is very tight. So we are drinking all the day. We will move out of it in 5 days.</textarea>
            </td>
        </tr>
        <tr>
            <td>
                <label for="tb-search">Substring target:</label>
            </td>
            <td>
                <input type="text" id="tb-search"/>
            </td>
        </tr>
        <tr>
            <td></td>
            <td>
                <button class="execute" onclick="mainFunction()">Find!</button>
            </td>
        </tr>
    </table>
    <div id="console">
    </div>
    <script src="scripts/js-console.js">
    </script>
    <script>
        function mainFunction() {
            var text = jsConsole.read('#tb-text');
            var pattern = jsConsole.read('#tb-search');
            var regex = new RegExp(pattern, "gim");
            var count = text.match(regex);

            jsConsole.writeLine('The substring "' + pattern + '" is contained ' + count.length + ' times in the text.');
        }
    </script>
</body>
</html>
